# Serial Studio v3 串口改进功能说明

## 概述
为Serial Studio v3版本添加了更强大的串口配置和自动发现功能，使其能够在Windows、Linux和macOS三个平台上通用运行。

## 新增功能

### 1. 自动串口发现
- **跨平台支持**: 自动检测Windows(COM端口)、Linux(/dev/ttyUSB*, /dev/ttyACM*)、macOS(/dev/cu.usb*)上的串口
- **智能选择**: 优先选择USB串口设备，如CH340、CP210x、FTDI等常见芯片
- **详细信息**: 显示串口描述、制造商、产品信息、硬件ID和序列号

### 2. 增强的串口配置界面
- **串口选择**: 下拉列表显示所有可用串口，可手动选择或自动选择
- **刷新功能**: 一键刷新串口列表，动态检测新插入的设备
- **自动选择**: 自动选择最合适的默认串口
- **详细配置**: 支持配置数据位、校验位、停止位、超时等所有串口参数
- **实时信息**: 显示选中串口的详细设备信息

### 3. 配置选项
- **波特率**: 300-921600 bps，包含所有常用值
- **数据位**: 5, 6, 7, 8位
- **校验位**: 无校验、偶校验、奇校验、Mark校验、Space校验
- **停止位**: 1, 1.5, 2位
- **超时设置**: 可配置的连接和读写超时

## 界面改进

### 串口配置面板布局
```
[串口: ▼COM26 ] [刷新] [自动] [波特率: ▼115200]
[数据位: ▼8] [校验位: ▼N-无校验] [停止位: ▼1]
[超时(s): 1.0] [设备信息: Silicon Labs CP210x USB to UART Bridge]
```

### 自动功能
- 程序启动时自动检测并选择合适的默认串口
- 默认波特率设置为115200（更常用的现代波特率）
- 刷新按钮可重新扫描硬件变化

## 跨平台兼容性

### Windows
- 检测COM端口（COM1, COM2, ...）
- 优先选择USB转串口设备

### Linux  
- 检测 /dev/ttyUSB* （USB转串口）
- 检测 /dev/ttyACM* （CDC设备）
- 自动权限处理

### macOS
- 检测 /dev/cu.usb* 设备
- 检测 /dev/cu.* 其他串口设备

## 错误处理
- 串口不存在时的友好提示
- 连接失败时的详细错误信息
- 设备权限问题的处理指导

## 使用方法

1. **启动程序**: 运行 `serial_studio_test_gui_v3.py`
2. **自动检测**: 程序启动时自动扫描可用串口
3. **手动选择**: 从下拉列表中选择所需串口
4. **配置参数**: 根据需要调整波特率、数据位等参数
5. **连接测试**: 点击"连接"按钮测试串口连接

## 测试验证
运行 `test_serial_improvements.py` 可以测试所有新功能：
- 串口发现功能测试
- 配置选项验证
- 跨平台兼容性测试

## 技术特点
- 使用 `pyserial` 库的 `list_ports` 模块实现跨平台支持
- 智能设备识别算法
- 模块化设计，易于维护和扩展
- 向后兼容原有功能

这些改进使Serial Studio v3在串口通信方面更加用户友好和可靠，特别适合需要在不同操作系统上运行的嵌入式开发和测试场景。
