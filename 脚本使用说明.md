# Serial Studio VSCode æ’ä»¶ - è„šæœ¬ä½¿ç”¨è¯´æ˜

## æ¦‚è¿°

æœ¬é¡¹ç›®æä¾›äº†ä¸¤ä¸ªé‡è¦çš„è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œç”¨äºç®€åŒ–å¼€å‘å’Œè°ƒè¯•æµç¨‹ï¼š

- **`build.sh`** - æ„å»ºå’Œæ‰“åŒ…è„šæœ¬
- **`debug.sh`** - è°ƒè¯•ç¯å¢ƒé…ç½®è„šæœ¬

## ğŸ”¨ æ„å»ºè„šæœ¬ (build.sh)

### ä¸»è¦åŠŸèƒ½

æ„å»ºè„šæœ¬æä¾›äº†å®Œæ•´çš„é¡¹ç›®æ„å»ºã€æµ‹è¯•ã€æ‰“åŒ…å’Œéƒ¨ç½²åŠŸèƒ½ã€‚

### åŸºæœ¬ç”¨æ³•

```bash
./build.sh <command>
```

### å¯ç”¨å‘½ä»¤

#### æ„å»ºå‘½ä»¤
- `build` - å®Œæ•´æ„å»ºæ‰©å±•ï¼ˆæ¨èï¼‰
- `build-install` - æ„å»ºå¹¶è‡ªåŠ¨å®‰è£…åˆ° VSCode
- `compile` - ä»…ç¼–è¯‘ TypeScript ä»£ç 
- `package` - ä»…æ‰“åŒ…æ‰©å±•ä¸º .vsix æ–‡ä»¶
- `install` - å®‰è£…å·²æ„å»ºçš„æ‰©å±•åˆ° VSCode

#### å¼€å‘å‘½ä»¤
- `dev` - å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆæ–‡ä»¶ç›‘å¬ï¼‰
- `test` - è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
- `test-unit` - è¿è¡Œå•å…ƒæµ‹è¯•
- `test-perf` - è¿è¡Œæ€§èƒ½æµ‹è¯•
- `coverage` - ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- `lint` - è¿è¡Œ ESLint ä»£ç æ£€æŸ¥
- `typecheck` - è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥

#### æ¸…ç†å‘½ä»¤
- `clean` - æ¸…ç†æ„å»ºæ–‡ä»¶å’Œé¡¹ç›®ç¼“å­˜
- `clean-vscode` - æ¸…ç† VSCode å…¨å±€ç¼“å­˜
- `deep-clean` - æ·±åº¦æ¸…ç†ï¼ˆåŒ…æ‹¬ node_modulesï¼‰

#### ä¿¡æ¯å‘½ä»¤
- `info` - æ˜¾ç¤ºé¡¹ç›®è¯¦ç»†ä¿¡æ¯
- `help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

### ä½¿ç”¨ç¤ºä¾‹

```bash
# å®Œæ•´æ„å»ºå¹¶å®‰è£…
./build.sh build-install

# å¼€å‘æ¨¡å¼
./build.sh dev

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
./build.sh test
./build.sh coverage

# æ¸…ç†é¡¹ç›®
./build.sh clean

# æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯
./build.sh info
```

### æ„å»ºæµç¨‹

`build` å‘½ä»¤ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. âœ… æ£€æŸ¥å¼€å‘ç¯å¢ƒä¾èµ–
2. âœ… éªŒè¯é¡¹ç›®æ–‡ä»¶ç»“æ„
3. âœ… å®‰è£… npm ä¾èµ–
4. âœ… è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥
5. âœ… è¿è¡Œ ESLint ä»£ç æ£€æŸ¥
6. âœ… ç¼–è¯‘ TypeScript ä»£ç 
7. âœ… ä½¿ç”¨ Webpack æ‰“åŒ…
8. âœ… ç”Ÿæˆ .vsix æ‰©å±•åŒ…

## ğŸ› è°ƒè¯•è„šæœ¬ (debug.sh)

### ä¸»è¦åŠŸèƒ½

è°ƒè¯•è„šæœ¬ç”¨äºå¿«é€Ÿæ­å»ºå¼€å‘è°ƒè¯•ç¯å¢ƒï¼Œé…ç½® VSCode è°ƒè¯•è®¾ç½®ã€‚

### åŸºæœ¬ç”¨æ³•

```bash
./debug.sh [command]
```

### å¯ç”¨å‘½ä»¤

- `ï¼ˆæ— å‚æ•°ï¼‰` - æ­å»ºå®Œæ•´è°ƒè¯•ç¯å¢ƒ
- `stop` - åœæ­¢åå°ç›‘å¬æœåŠ¡
- `restart` - é‡å¯ TypeScript ç›‘å¬ç¼–è¯‘
- `status` - æ˜¾ç¤ºè°ƒè¯•ç¯å¢ƒçŠ¶æ€
- `clean` - æ¸…ç†è°ƒè¯•é…ç½®æ–‡ä»¶
- `help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

### ä½¿ç”¨ç¤ºä¾‹

```bash
# æ­å»ºè°ƒè¯•ç¯å¢ƒ
./debug.sh

# æŸ¥çœ‹çŠ¶æ€
./debug.sh status

# åœæ­¢åå°æœåŠ¡
./debug.sh stop

# é‡å¯ç›‘å¬ç¼–è¯‘
./debug.sh restart

# æ¸…ç†è°ƒè¯•é…ç½®
./debug.sh clean
```

### è°ƒè¯•ç¯å¢ƒæ­å»º

è¿è¡Œ `./debug.sh` ä¼šè‡ªåŠ¨å®Œæˆï¼š

1. âœ… æ£€æŸ¥å¼€å‘ç¯å¢ƒï¼ˆNode.js, npmï¼‰
2. âœ… å®‰è£…é¡¹ç›®ä¾èµ–
3. âœ… åˆ›å»º VSCode è°ƒè¯•é…ç½®æ–‡ä»¶ï¼š
   - `.vscode/launch.json` - è°ƒè¯•å¯åŠ¨é…ç½®
   - `.vscode/tasks.json` - æ„å»ºä»»åŠ¡é…ç½®
   - `.vscode/settings.json` - é¡¹ç›®è®¾ç½®
   - `.vscode/extensions.json` - æ¨èæ‰©å±•
4. âœ… æ‰§è¡Œåˆå§‹ç¼–è¯‘
5. âœ… å¯åŠ¨ TypeScript ç›‘å¬ç¼–è¯‘
6. âœ… å¯é€‰è¿è¡Œä»£ç æ£€æŸ¥å’Œæµ‹è¯•

### è°ƒè¯•é…ç½®è¯´æ˜

åˆ›å»ºçš„è°ƒè¯•é…ç½®åŒ…æ‹¬ï¼š

- **ğŸš€ è¿è¡Œæ‰©å±•** - åŸºç¡€è°ƒè¯•æ¨¡å¼ï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰
- **ğŸ”§ å®Œæ•´å¼€å‘æ¨¡å¼** - åŒ…å«å…¶ä»–æ‰©å±•çš„å®Œæ•´ç¯å¢ƒ
- **ğŸ§ª è¿è¡Œæ‰©å±•æµ‹è¯•** - è¿è¡Œæ‰©å±•æµ‹è¯•å¥—ä»¶
- **ğŸ¯ Worker è°ƒè¯•** - è°ƒè¯•æ•°æ®å¤„ç† Worker

### è°ƒè¯•æ­¥éª¤

1. è¿è¡Œè°ƒè¯•è„šæœ¬ï¼š
   ```bash
   ./debug.sh
   ```

2. åœ¨ VSCode ä¸­æŒ‰ `F5` æˆ– `Ctrl+Shift+D` æ‰“å¼€è°ƒè¯•é¢æ¿

3. é€‰æ‹©è°ƒè¯•é…ç½®å¹¶å¯åŠ¨

## ğŸŒŸ é¡¹ç›®ç‰¹è‰²åŠŸèƒ½

### Serial Studio æ’ä»¶åŠŸèƒ½
- ä¸²å£æ•°æ®å®æ—¶å¯è§†åŒ–
- æ”¯æŒå¤šç§æ•°æ®æ ¼å¼è§£æ
- å›¾è¡¨å’Œä»ªè¡¨ç›˜æ˜¾ç¤º
- æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆCSV, JSON, Excel, XMLï¼‰
- MQTT æ•°æ®æºæ”¯æŒ
- é«˜æ€§èƒ½æ•°æ®å¤„ç†

### è„šæœ¬ç‰¹è‰²åŠŸèƒ½
- ğŸ¯ è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹
- ğŸ”§ ä¸€é”®è°ƒè¯•ç¯å¢ƒæ­å»º
- ğŸ“Š å®Œæ•´çš„æµ‹è¯•å’Œè¦†ç›–ç‡æŠ¥å‘Š
- ğŸ§¹ æ™ºèƒ½ç¼“å­˜æ¸…ç†
- ğŸ“± å‹å¥½çš„äº¤äº’ç•Œé¢
- ğŸš€ æ”¯æŒå¼€å‘å’Œç”Ÿäº§æ¨¡å¼

## ğŸ”§ ç¯å¢ƒè¦æ±‚

### å¿…éœ€è½¯ä»¶
- **Node.js** >= 18.0.0
- **npm** >= 8.0.0
- **VSCode** >= 1.74.0

### æ¨èå®‰è£…çš„ VSCode æ‰©å±•
- Vue Language Features (Volar)
- TypeScript Importer
- Prettier - Code formatter
- ESLint
- Test Adapter Converter

## ğŸ“ é¡¹ç›®ç»“æ„

```
vscode-externsion-serial/
â”œâ”€â”€ build.sh                 # æ„å»ºè„šæœ¬
â”œâ”€â”€ debug.sh                 # è°ƒè¯•è„šæœ¬
â”œâ”€â”€ src/                     # æºä»£ç 
â”‚   â”œâ”€â”€ extension/           # æ‰©å±•åç«¯ä»£ç 
â”‚   â”œâ”€â”€ webview/            # å‰ç«¯è§†å›¾ä»£ç 
â”‚   â”œâ”€â”€ shared/             # å…±äº«æ¨¡å—
â”‚   â””â”€â”€ workers/            # æ•°æ®å¤„ç† Workers
â”œâ”€â”€ utest/                  # å•å…ƒæµ‹è¯•ï¼ˆå·²æ’é™¤å‡ºæ„å»ºï¼‰
â”œâ”€â”€ dist/                   # Webpack è¾“å‡º
â”œâ”€â”€ out/                    # TypeScript è¾“å‡º
â””â”€â”€ .vscode/               # VSCode é…ç½®ï¼ˆè°ƒè¯•è„šæœ¬ç”Ÿæˆï¼‰
```

## ğŸš¨ å¸¸è§é—®é¢˜

### Q: ç¼–è¯‘é”™è¯¯æ€ä¹ˆåŠï¼Ÿ
A: å…ˆè¿è¡Œç±»å‹æ£€æŸ¥å’Œä»£ç æ£€æŸ¥ï¼š
```bash
./build.sh typecheck
./build.sh lint
```

### Q: è°ƒè¯•æ— æ³•å¯åŠ¨ï¼Ÿ
A: æ£€æŸ¥è°ƒè¯•ç¯å¢ƒçŠ¶æ€ï¼š
```bash
./debug.sh status
```
å¦‚æœé…ç½®ç¼ºå¤±ï¼Œé‡æ–°è¿è¡Œï¼š
```bash
./debug.sh clean
./debug.sh
```

### Q: å¦‚ä½•æ¸…ç†é¡¹ç›®ï¼Ÿ
A: æ ¹æ®éœ€è¦é€‰æ‹©æ¸…ç†çº§åˆ«ï¼š
```bash
./build.sh clean          # åŸºç¡€æ¸…ç†
./build.sh clean-vscode   # VSCode ç¼“å­˜æ¸…ç†
./build.sh deep-clean     # æ·±åº¦æ¸…ç†
```

### Q: æµ‹è¯•å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: é€æ­¥æ£€æŸ¥ï¼š
```bash
./build.sh test-unit      # å•å…ƒæµ‹è¯•
./build.sh coverage       # æŸ¥çœ‹è¦†ç›–ç‡
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹è„šæœ¬å¸®åŠ©ï¼š`./build.sh help` æˆ– `./debug.sh help`
2. æ£€æŸ¥é¡¹ç›®çŠ¶æ€ï¼š`./build.sh info`
3. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š`tail -f watch.log`
4. é‡æ–°åˆå§‹åŒ–ç¯å¢ƒï¼š`./debug.sh clean && ./debug.sh`

---

**æç¤º**ï¼šå»ºè®®å°†è¿™ä¸¤ä¸ªè„šæœ¬åŠ å…¥ä½ çš„æ—¥å¸¸å¼€å‘å·¥ä½œæµä¸­ï¼Œå¯ä»¥å¤§å¤§æå‡å¼€å‘æ•ˆç‡ï¼