# 加速度计组件 (Accelerometer)

## 概述

加速度计组件用于显示三轴加速度数据，提供直观的加速度矢量可视化。组件会自动计算倾斜角度和加速度幅值，适用于IMU传感器、运动检测等应用场景。

## 数据格式要求

### 组配置结构

```json
{
    "title": "Accelerometer",
    "widget": "accelerometer",
    "datasets": [
        {
            "title": "Accelerometer X",
            "units": "m/s²",
            "widget": "x",
            "index": 1,
            "graph": true
        },
        {
            "title": "Accelerometer Y", 
            "units": "m/s²",
            "widget": "y",
            "index": 2,
            "graph": true
        },
        {
            "title": "Accelerometer Z",
            "units": "m/s²", 
            "widget": "z",
            "index": 3,
            "graph": true
        }
    ]
}
```

### 关键属性说明

| 属性 | 类型 | 必需 | 说明 |
|------|------|------|------|
| `theta` | double | 自动计算 | 倾斜角度（度） |
| `magnitude` | double | 自动计算 | 加速度幅值 |

## 数据集要求

加速度计组件**必须**包含三个数据集，分别对应X、Y、Z轴：

1. **X轴数据集**：`widget` 属性必须设置为 `"x"`
2. **Y轴数据集**：`widget` 属性必须设置为 `"y"`  
3. **Z轴数据集**：`widget` 属性必须设置为 `"z"`

## 计算公式

组件会根据三轴数据自动计算以下值：

- **倾斜角度 (theta)**：通过X、Y、Z值计算得出的空间倾斜角
- **加速度幅值 (magnitude)**：√(X² + Y² + Z²)

## 测试数据示例

### 静止状态（仅受重力影响）
```
$0.1,-0.2,9.8;  // X=0.1, Y=-0.2, Z=9.8 m/s²
```

### 运动状态
```
$1.2,-0.8,9.6;  // X=1.2, Y=-0.8, Z=9.6 m/s²
```

### 自由落体状态
```
$0.0,0.0,0.0;   // X=0.0, Y=0.0, Z=0.0 m/s²
```

### 振动测试
```
$2.5,1.8,8.2;   // 高频振动场景
```

## 配置参数

### 数据集配置参数

| 参数 | 类型 | 默认值 | 说明 |
|------|------|---------|------|
| `title` | string | 必需 | 数据集标题 |
| `units` | string | "m/s²" | 单位（推荐使用m/s²） |
| `widget` | string | 必需 | 轴标识（"x"/"y"/"z"） |
| `index` | int | 必需 | 数据帧中的索引位置 |
| `graph` | bool | true | 是否在图表中显示 |

## 数值范围

### 推荐范围
- **常规应用**：±20 m/s²
- **高冲击应用**：±200 m/s²
- **精密测量**：±2 m/s²

### 典型数值
- **地球重力加速度**：9.8 m/s²
- **汽车急刹车**：8-10 m/s²
- **自由落体检测阈值**：<0.5 m/s²

## 使用注意事项

1. **坐标系一致性**：确保X、Y、Z轴的定义与硬件坐标系一致
2. **单位统一**：所有三轴数据必须使用相同的单位
3. **数据同步**：三轴数据必须是同一时刻采样的值
4. **噪声过滤**：对于高精度应用，建议在数据源进行噪声过滤
5. **校准要求**：传感器应进行零点校准和量程校准

## 错误处理

### 常见错误
- 缺少X、Y、Z中任一轴的数据集
- widget属性设置错误（非"x"/"y"/"z"）
- 数据索引重复或缺失

### 调试建议
- 检查数据帧格式是否正确
- 验证三个数据集的索引是否连续
- 确认数据值在合理范围内

## 示例项目配置

```json
{
    "title": "IMU Accelerometer",
    "widget": "accelerometer", 
    "datasets": [
        {
            "title": "Accel X",
            "units": "m/s²",
            "widget": "x",
            "index": 1,
            "graph": true,
            "min": -20,
            "max": 20
        },
        {
            "title": "Accel Y",
            "units": "m/s²", 
            "widget": "y",
            "index": 2,
            "graph": true,
            "min": -20,
            "max": 20
        },
        {
            "title": "Accel Z",
            "units": "m/s²",
            "widget": "z",
            "index": 3,
            "graph": true,
            "min": -20,
            "max": 20
        }
    ]
}
```