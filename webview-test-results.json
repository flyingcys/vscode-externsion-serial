[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m
{"numTotalTestSuites":36,"numPassedTestSuites":36,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":73,"numPassedTests":18,"numFailedTests":55,"numPendingTests":0,"numTodoTests":0,"startTime":1754483681207,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Connection Store","初始状态"],"fullName":" Connection Store 初始状态 应该有正确的初始状态","status":"failed","title":"应该有正确的初始状态","duration":3,"failureMessages":["Cannot read properties of undefined (reading 'state')"],"location":{"line":45,"column":20}},{"ancestorTitles":["","Connection Store","初始状态"],"fullName":" Connection Store 初始状态 应该有空的统计信息","status":"failed","title":"应该有空的统计信息","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'stats')"],"location":{"line":55,"column":20}},{"ancestorTitles":["","Connection Store","状态计算属性"],"fullName":" Connection Store 状态计算属性 isConnected 应该正确反映连接状态","status":"failed","title":"isConnected 应该正确反映连接状态","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'isConnected')"],"location":{"line":65,"column":20}},{"ancestorTitles":["","Connection Store","状态计算属性"],"fullName":" Connection Store 状态计算属性 isConnecting 应该正确反映连接中状态","status":"failed","title":"isConnecting 应该正确反映连接中状态","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'isConnecting')"],"location":{"line":76,"column":20}},{"ancestorTitles":["","Connection Store","状态计算属性"],"fullName":" Connection Store 状态计算属性 hasError 应该正确反映错误状态","status":"failed","title":"hasError 应该正确反映错误状态","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'hasError')"],"location":{"line":90,"column":20}},{"ancestorTitles":["","Connection Store","连接操作"],"fullName":" Connection Store 连接操作 应该能够建立连接","status":"failed","title":"应该能够建立连接","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'connect')"],"location":{"line":111,"column":19}},{"ancestorTitles":["","Connection Store","连接操作"],"fullName":" Connection Store 连接操作 应该能够断开连接","status":"failed","title":"应该能够断开连接","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setState')"],"location":{"line":120,"column":13}},{"ancestorTitles":["","Connection Store","连接操作"],"fullName":" Connection Store 连接操作 应该能够重连","status":"failed","title":"应该能够重连","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setConnectionConfig')"],"location":{"line":140,"column":13}},{"ancestorTitles":["","Connection Store","设备管理"],"fullName":" Connection Store 设备管理 应该能够设置当前设备","status":"failed","title":"应该能够设置当前设备","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'setCurrentDevice')"],"location":{"line":157,"column":13}},{"ancestorTitles":["","Connection Store","设备管理"],"fullName":" Connection Store 设备管理 应该能够清除当前设备","status":"failed","title":"应该能够清除当前设备","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setCurrentDevice')"],"location":{"line":170,"column":13}},{"ancestorTitles":["","Connection Store","统计信息管理"],"fullName":" Connection Store 统计信息管理 应该能够更新接收字节数","status":"failed","title":"应该能够更新接收字节数","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'updateStats')"],"location":{"line":181,"column":13}},{"ancestorTitles":["","Connection Store","统计信息管理"],"fullName":" Connection Store 统计信息管理 应该能够更新发送字节数","status":"failed","title":"应该能够更新发送字节数","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'updateStats')"],"location":{"line":190,"column":13}},{"ancestorTitles":["","Connection Store","统计信息管理"],"fullName":" Connection Store 统计信息管理 应该能够更新包统计信息","status":"failed","title":"应该能够更新包统计信息","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'updateStats')"],"location":{"line":196,"column":13}},{"ancestorTitles":["","Connection Store","统计信息管理"],"fullName":" Connection Store 统计信息管理 应该能够重置统计信息","status":"failed","title":"应该能够重置统计信息","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'updateStats')"],"location":{"line":208,"column":13}},{"ancestorTitles":["","Connection Store","错误处理"],"fullName":" Connection Store 错误处理 应该能够设置错误信息","status":"failed","title":"应该能够设置错误信息","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'setError')"],"location":{"line":228,"column":13}},{"ancestorTitles":["","Connection Store","错误处理"],"fullName":" Connection Store 错误处理 应该能够清除错误信息","status":"failed","title":"应该能够清除错误信息","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setError')"],"location":{"line":237,"column":13}},{"ancestorTitles":["","Connection Store","连接配置"],"fullName":" Connection Store 连接配置 应该能够设置连接配置","status":"failed","title":"应该能够设置连接配置","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setConnectionConfig')"],"location":{"line":253,"column":13}},{"ancestorTitles":["","Connection Store","连接配置"],"fullName":" Connection Store 连接配置 应该能够更新连接配置","status":"failed","title":"应该能够更新连接配置","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setConnectionConfig')"],"location":{"line":265,"column":13}},{"ancestorTitles":["","Connection Store","状态转换"],"fullName":" Connection Store 状态转换 应该只允许有效的状态转换","status":"failed","title":"应该只允许有效的状态转换","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'canTransitionTo')"],"location":{"line":285,"column":20}},{"ancestorTitles":["","Connection Store","持久化"],"fullName":" Connection Store 持久化 应该能够保存连接历史","status":"failed","title":"应该能够保存连接历史","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'addToHistory')"],"location":{"line":310,"column":13}},{"ancestorTitles":["","Connection Store","持久化"],"fullName":" Connection Store 持久化 应该限制连接历史数量","status":"failed","title":"应该限制连接历史数量","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addToHistory')"],"location":{"line":320,"column":15}},{"ancestorTitles":["","Connection Store","持久化"],"fullName":" Connection Store 持久化 应该去重连接历史","status":"failed","title":"应该去重连接历史","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addToHistory')"],"location":{"line":337,"column":13}}],"startTime":1754483682265,"endTime":1754483682276,"status":"failed","message":"","name":"/home/share/samba/vscode-extension/serial-visual/vscode-externsion-serial/utest/webview/stores/connection.test.ts"},{"assertionResults":[{"ancestorTitles":["","Data Store","初始状态"],"fullName":" Data Store 初始状态 应该有正确的初始状态","status":"failed","title":"应该有正确的初始状态","duration":3,"failureMessages":["Cannot read properties of undefined (reading 'rawData')"],"location":{"line":95,"column":20}},{"ancestorTitles":["","Data Store","初始状态"],"fullName":" Data Store 初始状态 应该有默认的性能指标","status":"failed","title":"应该有默认的性能指标","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'performanceMetrics')"],"location":{"line":107,"column":20}},{"ancestorTitles":["","Data Store","原始数据管理"],"fullName":" Data Store 原始数据管理 应该能够添加原始数据","status":"failed","title":"应该能够添加原始数据","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addRawData')"],"location":{"line":118,"column":13}},{"ancestorTitles":["","Data Store","原始数据管理"],"fullName":" Data Store 原始数据管理 应该能够批量添加原始数据","status":"failed","title":"应该能够批量添加原始数据","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'addRawDataBatch')"],"location":{"line":132,"column":13}},{"ancestorTitles":["","Data Store","原始数据管理"],"fullName":" Data Store 原始数据管理 应该限制原始数据缓存大小","status":"failed","title":"应该限制原始数据缓存大小","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addRawData')"],"location":{"line":141,"column":15}},{"ancestorTitles":["","Data Store","原始数据管理"],"fullName":" Data Store 原始数据管理 应该能够清除原始数据","status":"failed","title":"应该能够清除原始数据","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addRawData')"],"location":{"line":149,"column":13}},{"ancestorTitles":["","Data Store","处理后的帧管理"],"fullName":" Data Store 处理后的帧管理 应该能够添加处理后的帧","status":"failed","title":"应该能够添加处理后的帧","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'addProcessedFrame')"],"location":{"line":167,"column":13}},{"ancestorTitles":["","Data Store","处理后的帧管理"],"fullName":" Data Store 处理后的帧管理 应该能够处理无效帧","status":"failed","title":"应该能够处理无效帧","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addProcessedFrame')"],"location":{"line":183,"column":13}},{"ancestorTitles":["","Data Store","处理后的帧管理"],"fullName":" Data Store 处理后的帧管理 应该能够批量添加处理后的帧","status":"failed","title":"应该能够批量添加处理后的帧","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'addProcessedFramesBatch')"],"location":{"line":207,"column":13}},{"ancestorTitles":["","Data Store","数据集管理"],"fullName":" Data Store 数据集管理 应该能够添加数据集","status":"failed","title":"应该能够添加数据集","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addDataset')"],"location":{"line":226,"column":13}},{"ancestorTitles":["","Data Store","数据集管理"],"fullName":" Data Store 数据集管理 应该能够更新现有数据集","status":"failed","title":"应该能够更新现有数据集","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addDataset')"],"location":{"line":243,"column":13}},{"ancestorTitles":["","Data Store","数据集管理"],"fullName":" Data Store 数据集管理 应该能够移除数据集","status":"failed","title":"应该能够移除数据集","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'addDataset')"],"location":{"line":267,"column":13}},{"ancestorTitles":["","Data Store","组管理"],"fullName":" Data Store 组管理 应该能够添加组","status":"failed","title":"应该能够添加组","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addGroup')"],"location":{"line":283,"column":13}},{"ancestorTitles":["","Data Store","组管理"],"fullName":" Data Store 组管理 应该能够更新组","status":"failed","title":"应该能够更新组","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'addGroup')"],"location":{"line":296,"column":13}},{"ancestorTitles":["","Data Store","Widget数据管理"],"fullName":" Data Store Widget数据管理 应该能够设置Widget数据","status":"failed","title":"应该能够设置Widget数据","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setWidgetData')"],"location":{"line":321,"column":13}},{"ancestorTitles":["","Data Store","Widget数据管理"],"fullName":" Data Store Widget数据管理 应该能够更新Widget数据","status":"failed","title":"应该能够更新Widget数据","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'setWidgetData')"],"location":{"line":337,"column":13}},{"ancestorTitles":["","Data Store","Widget数据管理"],"fullName":" Data Store Widget数据管理 应该能够移除Widget数据","status":"failed","title":"应该能够移除Widget数据","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'setWidgetData')"],"location":{"line":361,"column":13}},{"ancestorTitles":["","Data Store","数据搜索和过滤"],"fullName":" Data Store 数据搜索和过滤 应该能够按标题搜索数据集","status":"failed","title":"应该能够按标题搜索数据集","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addDataset')"],"location":{"line":403,"column":41}},{"ancestorTitles":["","Data Store","数据搜索和过滤"],"fullName":" Data Store 数据搜索和过滤 应该能够按Widget类型过滤数据集","status":"failed","title":"应该能够按Widget类型过滤数据集","duration":1,"failureMessages":["Cannot read properties of undefined (reading 'addDataset')"],"location":{"line":403,"column":41}},{"ancestorTitles":["","Data Store","数据搜索和过滤"],"fullName":" Data Store 数据搜索和过滤 应该能够按时间范围过滤数据","status":"failed","title":"应该能够按时间范围过滤数据","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addDataset')"],"location":{"line":403,"column":41}},{"ancestorTitles":["","Data Store","性能监控"],"fullName":" Data Store 性能监控 应该能够更新性能指标","status":"failed","title":"应该能够更新性能指标","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'updatePerformanceMetrics')"],"location":{"line":439,"column":13}},{"ancestorTitles":["","Data Store","性能监控"],"fullName":" Data Store 性能监控 应该能够计算处理速率","status":"failed","title":"应该能够计算处理速率","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addRawData')"],"location":{"line":449,"column":15}},{"ancestorTitles":["","Data Store","数据清理"],"fullName":" Data Store 数据清理 应该能够清除所有数据","status":"failed","title":"应该能够清除所有数据","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addRawData')"],"location":{"line":462,"column":13}},{"ancestorTitles":["","Data Store","数据清理"],"fullName":" Data Store 数据清理 应该能够清除过期数据","status":"failed","title":"应该能够清除过期数据","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'addDataset')"],"location":{"line":488,"column":13}},{"ancestorTitles":["","Data Store","内存管理"],"fullName":" Data Store 内存管理 应该监控内存使用情况","status":"failed","title":"应该监控内存使用情况","duration":0,"failureMessages":["Cannot read properties of undefined (reading 'getMemoryUsage')"],"location":{"line":518,"column":33}},{"ancestorTitles":["","Data Store","内存管理"],"fullName":" Data Store 内存管理 应该在内存不足时触发清理","status":"failed","title":"应该在内存不足时触发清理","duration":1,"failureMessages":["spyOn could not find an object to spy upon"],"location":{"line":531,"column":29}}],"startTime":1754483682271,"endTime":1754483682284,"status":"failed","message":"","name":"/home/share/samba/vscode-extension/serial-visual/vscode-externsion-serial/utest/webview/stores/data.test.ts"},{"assertionResults":[{"ancestorTitles":["","MessageBridge","初始化"],"fullName":" MessageBridge 初始化 应该正确初始化消息桥梁","status":"passed","title":"应该正确初始化消息桥梁","duration":5,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","初始化"],"fullName":" MessageBridge 初始化 应该继承EventEmitter","status":"passed","title":"应该继承EventEmitter","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息发送"],"fullName":" MessageBridge 消息发送 应该能够发送基本消息","status":"passed","title":"应该能够发送基本消息","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息发送"],"fullName":" MessageBridge 消息发送 应该为每个消息生成唯一ID","status":"passed","title":"应该为每个消息生成唯一ID","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息发送"],"fullName":" MessageBridge 消息发送 应该设置消息时间戳","status":"passed","title":"应该设置消息时间戳","duration":0,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","请求-响应模式"],"fullName":" MessageBridge 请求-响应模式 应该能够发送请求并等待响应","status":"failed","title":"应该能够发送请求并等待响应","duration":5005,"failureMessages":["Request timeout"],"location":{"line":166,"column":16}},{"ancestorTitles":["","MessageBridge","请求-响应模式"],"fullName":" MessageBridge 请求-响应模式 应该在超时后拒绝请求","status":"passed","title":"应该在超时后拒绝请求","duration":102,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","请求-响应模式"],"fullName":" MessageBridge 请求-响应模式 应该能够取消待处理的请求","status":"passed","title":"应该能够取消待处理的请求","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息处理"],"fullName":" MessageBridge 消息处理 应该正确处理接收到的消息","status":"failed","title":"应该正确处理接收到的消息","duration":2,"failureMessages":["expected \"emit\" to be called with arguments: [ Array(2) ]\n\nReceived: \n\n\n\nNumber of calls: 0\n"],"location":{"line":157,"column":32}},{"ancestorTitles":["","MessageBridge","消息处理"],"fullName":" MessageBridge 消息处理 应该处理响应消息","status":"failed","title":"应该处理响应消息","duration":5001,"failureMessages":["promise rejected \"Error: Request timeout\" instead of resolving"],"location":{"line":179,"column":35}},{"ancestorTitles":["","MessageBridge","消息处理"],"fullName":" MessageBridge 消息处理 应该忽略无效消息","status":"passed","title":"应该忽略无效消息","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息类型处理"],"fullName":" MessageBridge 消息类型处理 应该处理数据更新消息","status":"failed","title":"应该处理数据更新消息","duration":1,"failureMessages":["expected \"spy\" to be called with arguments: [ { type: undefined, …(3) } ]\n\nReceived: \n\n\n\nNumber of calls: 0\n"],"location":{"line":208,"column":24}},{"ancestorTitles":["","MessageBridge","消息类型处理"],"fullName":" MessageBridge 消息类型处理 应该处理连接状态消息","status":"passed","title":"应该处理连接状态消息","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息类型处理"],"fullName":" MessageBridge 消息类型处理 应该处理错误消息","status":"passed","title":"应该处理错误消息","duration":0,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","批量消息处理"],"fullName":" MessageBridge 批量消息处理 应该能够发送批量消息","status":"passed","title":"应该能够发送批量消息","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","批量消息处理"],"fullName":" MessageBridge 批量消息处理 应该处理批量消息响应","status":"failed","title":"应该处理批量消息响应","duration":1,"failureMessages":["expected \"spy\" to be called at least once"],"location":{"line":286,"column":28}},{"ancestorTitles":["","MessageBridge","消息优先级"],"fullName":" MessageBridge 消息优先级 应该按优先级发送消息","status":"passed","title":"应该按优先级发送消息","duration":0,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息队列"],"fullName":" MessageBridge 消息队列 应该在离线时缓存消息","status":"passed","title":"应该在离线时缓存消息","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","消息队列"],"fullName":" MessageBridge 消息队列 应该清除消息队列","status":"passed","title":"应该清除消息队列","duration":0,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","错误处理"],"fullName":" MessageBridge 错误处理 应该处理发送错误","status":"passed","title":"应该处理发送错误","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","错误处理"],"fullName":" MessageBridge 错误处理 应该处理消息解析错误","status":"passed","title":"应该处理消息解析错误","duration":1,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","性能监控"],"fullName":" MessageBridge 性能监控 应该跟踪消息统计","status":"failed","title":"应该跟踪消息统计","duration":0,"failureMessages":["Send failed"],"location":{"line":357,"column":15}},{"ancestorTitles":["","MessageBridge","性能监控"],"fullName":" MessageBridge 性能监控 应该测量消息延迟","status":"failed","title":"应该测量消息延迟","duration":1,"failureMessages":["Send failed"],"location":{"line":357,"column":15}},{"ancestorTitles":["","MessageBridge","清理和销毁"],"fullName":" MessageBridge 清理和销毁 应该能够销毁消息桥梁","status":"passed","title":"应该能够销毁消息桥梁","duration":0,"failureMessages":[]},{"ancestorTitles":["","MessageBridge","清理和销毁"],"fullName":" MessageBridge 清理和销毁 应该清理待处理的请求","status":"passed","title":"应该清理待处理的请求","duration":1,"failureMessages":[]}],"startTime":1754483682258,"endTime":1754483692387,"status":"failed","message":"","name":"/home/share/samba/vscode-extension/serial-visual/vscode-externsion-serial/utest/webview/utils/MessageBridge.test.ts"}]}
