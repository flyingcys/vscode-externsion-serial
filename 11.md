# plan
@Serial-Studio 是一个串口可视化软件，现在我需要你根据 @Serial-Studio 源代码，实现一个基于VScode的串口数据可视化插件，实现功能需要和 @Serial-Studio 保持完全一致。

包括分析 @Serial-Studio 中的协议、通讯模式、数据解析、数据可视化等。

我们需要根据 @Serial-Studio 功能实现一个串口数据可视化VSCode插件 前端页面使用 vue3 + element plus 实现。

深度思考，读取所有代码，分析 @Serial-Studio 的结构和功能，你先按照这个要求整理一份完整的项目技术方案书，要求细致，深入，详细，包括技术架构，实现细节，分布实现步骤等等细节。

技术方案书以 markdown 格式输出到 @docs/plan_actions 目录位置，要求按照功能模块分文件存储，不能放到1个文件里面。

###

你再次执行以下任务：

@Serial-Studio 是一个串口可视化软件，现在我需要你根据 @Serial-Studio 源代码，实现一个基于VScode的串口数据可视化插件，实现功能需要和 @Serial-Studio 保持完全一致。

包括分析 @Serial-Studio 中的协议、通讯模式、数据解析、数据可视化等。

我们需要根据 @Serial-Studio 功能实现一个串口数据可视化VSCode插件 前端页面使用 vue3 + element plus 实现。

深度思考，读取所有代码，分析 @Serial-Studio 的结构和功能，你先按照这个要求整理一份完整的项目技术方案书，要求细致，深入，详细，包括技术架构，实现细节，分布实现步骤等等细节。

技术方案书已经以 markdown 格式输出到 @docs/plan_actions 目录位置了，你确认一下有没有需要更新的内容，如果有的话请更新对应内容，要求按照功能模块分文件存储，不能放到1个文件里面。

### 要求

具有高度的模块化和扩展性，方便后续增加其他功能。

深度思考，完成一下内容：
1. 检查 @docs/plan_actions 下实施计划是否与架构设计一致。
2. 将 @docs/plan_actions 下架构设计中核心内容、技术要求，整理成当前项目的 CLAUDE.md 文档


# star

现在你需要深度思考完成以下工作：
请你根据 @docs/plan_actions/05-实现步骤和时间规划.md，开发实现代码，完成 第27周：发布准备 工作 (单元测试板块专门来开发，先跳过)
1. 开发过程中参照 @docs/plan 目录中的 技术架构相关的 md， 
2. 开发过程中不可以使用如 python c++ c java 等其他任何语言。
3. 开发过程中必须严格按照 @Serial-Studio 中原有的功能思路进行开发，深度思考，深度思考，阅读和比对代码中所有的结构、设计、代码、功能。不能随意发挥，逻辑和流程必须完全保持高度一致。
4. 开发过程中需要查看相关官方文档的地方必须使用 @context7。
5. 完成一个阶段后需要完成自测，保证这一个阶段的功能正确运行，确保可以正常实现。
6. 需要同步完成 @docs/plan_actions/05-实现步骤和时间规划.md 文档中对应工作中涉及的 集成测试和 质量指标，☑️ 后表示完成。
7. 完成一个步骤之后就将这个已经完成的步骤 ☑️ 表示已经完成，更新  @docs/plan_actions/05-实现步骤和时间规划.md。

##

你忘记将完成状态更新到 @docs/plan_actions/05-实现步骤和时间规划.md 深度思考更新状态


#
@Serial-Studio 是一个串口可视化软件，现在我需要你根据 @Serial-Studio 源代码，现在你需要深度思考，并完成以下工作：

分析 @Serial-Studio 源代码，梳理各个功能模块的功能，然后整理成 makdown 格式到 @docs/Serial-Studio 目录中，要求细致，深入，详细，包括模块功能，实现逻辑，接口描述，实现代码，分布实现步骤等等。

markdown 文档要求按照功能模块分文件存储，不能放到1个文件里面。

##
@Serial-Studio 是一个串口可视化软件，现在我需要你根据 @Serial-Studio 源代码，现在你需要深度思考，并完成以下工作：

1. 分析 @Serial-Studio 源代码，帮我整理各个功能模块的数据格式，分功能模块存储为markdown格式的文档，放到 @docs/data 目录中。

要求细致，深入，详细，包括协议字段名称，协议字段格式，协议字段注释，通讯模式等等。

2. 使用 python 编写一个带GUI的测试软件，将上面的这些数据格式，生成数据流，我通过你帮我写的gui测试软件，导入某个功能，将这个数据通过串口、网络等通讯方式发送出去，用来测试软件是否可以正常显示。

python 环境中需要包含串口发送、串口接受、GUI开发、网络协议解析。

测试工具也可以使用 python 脚本实现自动化测试。既可以用gui界面也可以通过脚本。

python 版本测试软件放到 @test/tools 下面，我先会使用测试软件来测试 @serial-studio 功能，保证测试工具的正确，然后会使用你提供的软件来测试我们的vscode插件。


特别说明一下，除了你上面提到的这些通讯协议，我还需要可视化组件里面显示的那些图标上数据格式的要求，不然没法在 @Serial-Studio/ 上正常显示。

1. 加速度计
2. 条形图
3. 指南针
4. 数据网格
5. FFT频谱图
6. GPS地图
7. 仪表盘
8. 陀螺仪
9. LED面板
10. 多数据图表
11. 实时图表
12. 3D图表


我的要求是可视化组件支持的那些模块的数据格式需要单独整理成 md 文件。
你现在需要深度思考，然后根据 @Serial-Studio 项目代码以下数据显示的格式，我需要根据这个格式，来生成单独模块的测试数据，
1. 加速度计
2. 条形图
3. 指南针
4. 数据网格
5. FFT频谱图
6. GPS地图
7. 仪表盘
8. 陀螺仪
9. LED面板
10. 多数据图表
11. 实时图表
12. 3D图表

整理成 @docs/data 目录下的对应功能模块的数据格式的markdown格式文档，要求细致，深入，详细，


### 

现在你需要深度思考完成以下工作：

根据 @docs/data/02-可视化组件数据格式规范.md 文档中各可视化组件的数据格式，与 @docs/data/Widget 下的各组件数据格式 markdown 文件比较，看下 @docs/data/Widget 下的 markdown 文件有没有问题，或者有没有缺失。有的话更新数据格式，并新增文件。

并优化 @docs/data/02-可视化组件数据格式规范.md 中重复部分，将 makrdown 文件串起来，各组件数据就是用 @docs/data/Widget 下的文件，方便阅读和管理。

并再次分析 @Serial-Studio 源代码，确认  @docs/data/02-可视化组件数据格式规范.md 及相关的所有组件数据已经完整并正确。


### 

之前你帮我用 python 生成了测试脚本，我看到脚本应该是写死了数据，现在我再次梳理了 @Serial-Studio 协议和 各种可视化组件的数据格式，都放在 @docs/data/ 下。

现在需要你对 @test/tools 下的脚本重新优化，修改要求如下：
1. 支持所有的可视化组件为 @docs/data/Widget 下的数据格式。
2. 所有测试数据可以设置一些生成规则，比如数据变化幅度等等，时间，长度等等，根据各个组件要求匹配。
3. 先做出gui版本，确认效果。
4. 需要支持 串口 网络 以及其他所有 @Serial-Studio 支持的通讯方式。


## 单元测试

现在你需要深度思考完成以下工作：

当前项目是一个基于 @Serial-Studio 实现的一个串口可视化 VSCode 插件，现在你需要先阅读 @docs/plan_actions 下的项目技术架构，然后整理一个完整、系统、全面的单元测试方案，来测试所有功能。

目前功能开发接近尾声，需要对整个项目的代码进行完整的单元测试方案规划。

测试方案整理成 md 格式，放到 @docs/utest 目录中。

要求细致，深入，详细，包括单元测试覆盖率和覆盖率要求，单元测试功能模块划分以及每个单元测试代码实现等等。


## 单元测试的实现和自测

现在你需要深度思考完成以下工作：

根据 @docs/utest 这个测试方案，然后开始编写测试用例。

完成所有测试用例编写与实现，单元测试代码实现放在 @utest/ 满足单元测试覆盖度要求，保证单元测试质量。

完成一个单元测试用例编写，就完成运行，测试，如果发现问题就修复源代码中的问题，暗沉一个模块测试，需要总结编写当前用例测试情况的汇总报告，测试报告放到 @utest/docs 目录下。

先整理一个 单元测试用例子编写和测试计划文档，整理成md格式，放到 @utest/docs 目录下，然后依照计划依次执行，完成一个就更新计划文档。


### 运行单元测试

现在你需要深度思考完成以下工作：

根据 @utest/docs/unit-test-implementation-plan.md 中的计划，依次完成单元测试用例编写，然后使用该用例测试 src对应的项目文件，完成单元测试。

完成一个单元测试用例编写，就完成运行，测试，如果发现问题就修复源代码中的问题，暗沉一个模块测试，需要总结编写当前用例测试情况的汇总报告，测试报告放到 @utest/docs 目录下。


##

现在你需要深度思考完成以下工作：

根据 @utest/docs/unit-test-progress-comprehensive-report.md 中的计划，查看 @src 下的代码和 @utest 下的测试用例，对照  @utest/docs 的文档，梳理

1. 每个功能测试用例和测试覆盖率与代码是否一致
2. 每个功能测试用例文档是否正确，覆盖度是否正确
3.  @utest/docs 下进度情况与实际情况是否完全一致

以上内容有不一致的请修改，并将 @utest/docs 进度总况文档搞成一份，通过文档内连接的方式，进行文档导航。

重复的文档要合并到一份里面，然后检查每个功能的进度情况。

每个功能的测试文档要保存在一个子目录下，清晰，方便后续管理。


### 完善用例

现在你需要深度思考完成以下工作：

1. 读取 @src 下的代码，分析代码的结构、设计和功能，以及代码中各种接口和各种类之间的调用关系，补充 @plan_actions 下的架构和技术细节，要深入，详细，细致，全面。
2. 读取 @utest 下的单元测试用例，分析当前单元测试用例，确认测试用例覆盖率是否正确，是否还有提升空间。
3. 如果单元测试还可以继续提升，将提升计划整理成md文档 放到 @utest/docs 中。

### 提升覆盖率
现在你需要深度思考完成以下工作：

根据 @utest/docs/todo.md 依次完成 7.3 Phase 3: 错误处理和边界测试任务状态 工作，要求：
1. 从上到下依次执行
2. 执行完成一项，就修改 @utest/docs/todo.md 对应的项，☑️ 改为已经完成。
3. 继续下一步，直到完成所有工作。


### 运行单元测试

现在你需要深度思考完成以下工作：

1. 根据 @utest/docs 中的测试用例文档，比对 @utest 下的单元测试用例，拆分为 @utest/docs/todo.md 文件进行管理， 
2.  @utest/docs/todo.md 文件，依次运行 @utest 下的单元测试用例，完成 src 对应的项目文件每个功能模块的单元测试，提升 @utest/docs/index.md 中的单元测试覆盖度。
2. 每完成一个功能模块测试，需要更新对应的 @utest/docs 下对应功能模块的文档，没有就创建，存在就更新，
3. 我特别关注单元测试覆盖率，需要根据每次测试执行后，运行覆盖率报告。
4. 每完成一个功能模块测试，需要更新对应的 @utest/docs/todo.md 中的该项，必须严格执行。

特别关注单元测试覆盖率低，需要重构的部分，完成优化后，测试 src 对应的功能模块，完成高优先级，完成后必须更新 @utest/docs/todo.md 进度

## 特殊处理
现在你需要深度思考完成以下工作：

1. 修改 @plan2/todo.md 行动计划中的 第7周 (2025-03-15 ~ 2025-03-21)，取消该项目，我们的项目中没有许可证系统，我们不需要。
2. 取消 @plan2/plan2.md 中 许可证相关内容
3. 取消 @docs/plan_actions 中许可证相关内容
4. 将以上内容同步更新到 CLAUDE.md 中



## check
现在你需要再次深度思考，完成以下工作：
1. 读取全部 @Serial-Studio 相关代码，全面、深入、细致的核对 @Serial-Studio 和 src 下的源码功能是否完全匹配
2. 将上面核对后的结果，更新进 @plan2/功能匹配度深度分析报告.md 文档。

文档要详细，记录当前存在的问题，接下来应该怎么做，哪里做的好，哪里做的不好，优先级是怎么样的




## 
现在你需要再次深度思考，完成以下工作：

1. 读取全部 @Serial-Studio 相关代码，分析 @plan2/功能匹配度深度分析报告.md 中接下来要做的事情
2. 将 @plan2/功能匹配度深度分析报告.md 内容，分居优先级拆分为 todo list, 保存到 @plan2/todo.md
3. todo.md 要按照月为单位梳理，然后拆分为 WEEK，
4. todo list 要深入，细致，全面，可行性高
5. 不求速度，需要质量，稳步推进





##
现在你需要深度思考完成以下工作：

1. 读取 @plan2/plan2.md 中的 深度分析报告，结合 @plan2/todo.md 行动计划
2. 深入查看并参考 @logicanalyzer 下的对应模块的代码，完善 @src 
3. 完成 第8周 (2025-03-22 ~ 2025-03-28)
4. 代码修复工作要细致，全面，深入，并保证不影响当前现有功能
5. 完成当前阶段工作后，必须要将当前工作状态写入 @plan2/todo.md，在该项目上打 ☑️ 确认
6. 不要着急完成所有工作，一次完成 1 个 WEEK，但是必须要保证这个 WEEK 的工作是 100% 完成。


##

深度思考，分析当前 @utest 下的单元测试用例，系统、深入，细致的更新 @utest/docs/todo.md 完成测试用例数量和覆盖率，通过率等情况，方便后续继续优化提供指引。

优化 @utest/docs/todo.md 去掉历史信息，只保留当前版本的最新状态   

##

现在你需要深度思考完成以下工作：

1. 读取 @plan2/plan2.md 中的 深度分析报告，结合 @plan2/todo.md 行动计划
2. 深入读取和查看 @src 下的代码
3. 比对 @utest 下单元测试的对应是否覆盖，补足新增功能的单元测试，完善单元测试用例，提升单元覆盖率
4. 根据以上比对 @plan2/todo.md 已经完成的 1-2 月的行动中新增的内容，全面梳理并更新 @utest/docs/index.md 和 @utest/docs/todo.md
5. 先整理计划，优化  @utest/docs/index.md 和 @utest/docs/todo.md
6. todo.md 要按照月为单位梳理，然后拆分为 WEEK，todo list 要深入，细致，全面，可行性高 不求速度，需要质量，稳步推进




### 运行单元测试

现在你需要深度思考完成以下工作：

1. 根据 @utest/docs 中的测试用例文档，比对 @utest 下的单元测试用例，拆分为 @utest/docs/todo.md 文件进行管理， 
2.  @utest/docs/todo.md 文件，依次运行 @utest 下的单元测试用例，完成 src 对应的项目文件每个功能模块的单元测试，提升 @utest/docs/index.md 中的单元测试覆盖度。
2. 每完成一个功能模块测试，需要更新对应的 @utest/docs 下对应功能模块的文档，没有就创建，存在就更新，
3. 我特别关注单元测试覆盖率，需要根据每次测试执行后，运行覆盖率报告。
4. 每完成一个功能模块测试，需要更新对应的 @utest/docs/todo.md 中的该项，必须严格执行。

特别关注单元测试覆盖率低，需要重构的部分，完成优化后，测试 src 对应的功能模块，完成高优先级，完成后必须更新 @utest/docs/todo.md 进度



深度思考，分析当前单元测试用例，系统、深入 分析 单元测试用例只需要覆盖 @src 下的源代码的，不需要覆盖其他目录，细致的更新 @utest/docs/todo.md 完成测试用例数量和覆盖率，通过率等情况，方便后续继续优化提供指引。优化 @utest/docs/todo.md 去掉历史信息，只保留当前版本的最新状态     

##

现在你需要深度思考完成以下工作：

目前发现 src/tests/ 和 utest/ 两套测试体系并存，需要进行一次彻底检查，合并成一套测试代码体系，单元测试统一放到 @utest 目录，现在需要全面检查 @src/tests 目录下的代码，比对 @utest 下对应的代码，比对是否一致，
@utest 下没有的功能需要从 @src/tests 代码下同步过来。

完成全部同步后 @src/tests 的代码废弃掉，删除。

##
现在你需要深度思考完成以下工作：

1. 编译当前项目，排除错误和警告，同时需要把 @utest排除出当前插件的编译。
2. 为什么我运行了那么多 @utest/ 单元测试，还会存在这么多的编译错误

执行上面的操作，解决问题，并总结成md 文档到根目录下。


### 
现在你需要深度思考完成以下工作：

为什么我运行了这么多 @utest/ 单元测试，还会存在这么多的编译错误，是不是 @utest 下测试用例有错误呢？ 没有覆盖到吗，整理相关问题，放到根目录下，需要一个详细的错误信息描述。

## 

我怀疑你单元测试的有效性，

现在你需要深度思考完成以下工作：

1. 必须依次运行 @utest 下的单元测试用例，验证 @src 下模块是否正确，修改所有出现问题的 @src 下的模块
2. 单元测试完成，并修复 @src 下代码错误后，整理运行结果报告放到 @docs/utest/src 下同名目录

3. 将上诉问题和修复后的状态描述更新至 @docs/utest/src 下同名目录 的测试情况，同时更新 @docs/utest/README.md 中的运行情况，以后都以这个文件为准。不要查看这 @docs/utest/README.md，重新复查 @docs/utest/src 下各个模块的运行结果。





###
我怀疑你单元测试的有效性，

现在你需要深度思考完成以下工作：

分析 @docs/utest/README.md 问题，依次运行 @docs/utest/src 下的单元测试，查看问题情况，修改 @src 下相关代码，优化 @src 下代码，完成后修改 @docs/utest/README.md 下单元测试结果

###
我怀疑你单元测试的有效性，

现在你需要深度思考完成以下工作：

1. 依次运行 @utest 下的 Integration 单元测试用例，验证 @src 该下模块是否正确，修改所有出现问题的 @src 下的模块
2. 单元测试完成，并修复 @src 下代码错误后，整理运行结果报告放到 @docs/utest/README.md 的同名目录
3. 确认当前状态与 @docs/utest/README.md 中的运行情况是否一致，不一致的话需要再次运行单元测试，直到状态完全一致，更新 @docs/utest/README.md 下的单元测试结果
4. 在 @docs/utest/README.md 下的增加该模块单元测试覆盖率
5. 每次都只测试，修复一个模块，直到该模块单元测试通过，单元测试覆盖率必须要达到90%以上，测试通过率必须要达到100%要求，


###
现在你需要深度思考完成以下工作：
1. 分析  @utest 下的单元测试用例 的模块，
2. 对比  @docs/utest/README.md，找出还没有的功能模块，添加到 @docs/utest/README.md 下，
3. 如果有遗漏的单元测试，编写该模块的单元测试，完成单元测试，提高单元测试覆盖率
4. 更新 @docs/utest/README.md 下的单元测试覆盖率 和通过率
5. @docs/utest/README.md 必须是当前状态下，最新执行结果
5. @docs/utest/README.md 里面有的模块暂时不需要执行，先补齐 @docs/utest/README.md 下的模块和覆盖率、通过率

##

深度思考，继续提升 近完美覆盖率模块 中的各种到覆盖率100%，通过率100%，完成后更新 @utest/docs/todo.md 覆盖率和通过率 ，每次专注提升一个，继续提升 Integration  这个功能模块  